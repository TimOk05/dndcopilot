<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        
        .test-section {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #ccc;
        }
        
        .success {
            color: green;
        }
        
        .error {
            color: red;
        }
        
        .info {
            color: blue;
        }
        
        .debug {
            background: #f0f0f0;
            padding: 10px;
            margin: 10px 0;
            font-family: monospace;
        }
        
        .welcome-text {
            font-weight: bold;
            color: #333;
        }
        
        .logout-btn {
            background: #dc3545;
            color: white;
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .stats-link {
            background: #007bff;
            color: white;
            padding: 8px 16px;
            text-decoration: none;
            border-radius: 4px;
            display: inline-block;
            margin: 5px;
        }
        
        .admin-link {
            background: #ffc107;
            color: black;
            padding: 8px 16px;
            text-decoration: none;
            border-radius: 4px;
            display: inline-block;
            margin: 5px;
        }
        
        .generate-btn {
            background: #28a745;
            color: white;
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        
        select {
            padding: 5px;
            margin: 5px;
        }
        
        label {
            display: block;
            margin: 5px 0;
        }
    </style>
</head>

<body>
    <h1>üîç –¢–µ—Å—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏</h1>

    <div class="test-section">
        <h2>–≠–ª–µ–º–µ–Ω—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</h2>
        <div class="welcome-text">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å TimOk!</div>
        <a href="#" class="stats-link">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</a>
        <a href="#" class="admin-link">üîß –ê–¥–º–∏–Ω</a>
        <button class="logout-btn">üö™ –í—ã–π—Ç–∏</button>
        <button class="generate-btn">üé≤ –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞</button>

        <h3>–§–æ—Ä–º–∞ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞:</h3>
        <form>
            <label for="race">–†–∞—Å–∞:</label>
            <select id="race" name="race">
                <option value="human">–ß–µ–ª–æ–≤–µ–∫</option>
                <option value="elf">–≠–ª—å—Ñ</option>
            </select>

            <label for="class">–ö–ª–∞—Å—Å:</label>
            <select id="class" name="class">
                <option value="fighter">–í–æ–∏–Ω</option>
                <option value="wizard">–í–æ–ª—à–µ–±–Ω–∏–∫</option>
            </select>

            <label for="level">–£—Ä–æ–≤–µ–Ω—å:</label>
            <input type="number" id="level" name="level" value="1" min="1" max="20">

            <label for="gender">–ü–æ–ª:</label>
            <select id="gender" name="gender">
                <option value="male">–ú—É–∂—Å–∫–æ–π</option>
                <option value="female">–ñ–µ–Ω—Å–∫–∏–π</option>
            </select>
        </form>
    </div>

    <div class="test-section">
        <h2>–ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —è–∑—ã–∫–∞</h2>
        <select id="languageSelector" onchange="changeLanguage()">
            <option value="ru">üá∑üá∫ –†—É—Å—Å–∫–∏–π</option>
            <option value="en">üá∫üá∏ English</option>
        </select>
        <button onclick="testUpdate()">–¢–µ—Å—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è</button>
        <button onclick="clearDebug()">–û—á–∏—Å—Ç–∏—Ç—å –æ—Ç–ª–∞–¥–∫—É</button>
    </div>

    <div class="test-section">
        <h2>–û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h2>
        <div id="debug-info" class="debug"></div>
    </div>

    <script>
        // –°–ª–æ–≤–∞—Ä—å –ø–µ—Ä–µ–≤–æ–¥–æ–≤
        const interfaceTranslations = {
            'ru': {
                'welcome': '–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å',
                'logout': 'üö™ –í—ã–π—Ç–∏',
                'character_generator': 'üé≠ –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π',
                'generate': 'üé≤ –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å',
                'race': '–†–∞—Å–∞',
                'class': '–ö–ª–∞—Å—Å',
                'level': '–£—Ä–æ–≤–µ–Ω—å',
                'gender': '–ü–æ–ª'
            },
            'en': {
                'welcome': 'Welcome',
                'logout': 'üö™ Logout',
                'character_generator': 'üé≠ Character Generator',
                'generate': 'üé≤ Generate',
                'race': 'Race',
                'class': 'Class',
                'level': 'Level',
                'gender': 'Gender'
            }
        };

        let currentLanguage = 'ru';

        function t(key) {
            return interfaceTranslations[currentLanguage] ? .[key] || interfaceTranslations['ru'][key] || key;
        }

        function log(message) {
            const debugDiv = document.getElementById('debug-info');
            const timestamp = new Date().toLocaleTimeString();
            debugDiv.innerHTML += `[${timestamp}] ${message}<br>`;
            console.log(message);
        }

        function clearDebug() {
            document.getElementById('debug-info').innerHTML = '';
        }

        function updateLanguageSelector() {
            const selector = document.getElementById('languageSelector');
            if (selector) {
                selector.value = currentLanguage;
                log(`–°–µ–ª–µ–∫—Ç–æ—Ä —è–∑—ã–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω –Ω–∞: ${currentLanguage}`);
            } else {
                log('–û–®–ò–ë–ö–ê: –°–µ–ª–µ–∫—Ç–æ—Ä —è–∑—ã–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω');
            }
        }

        function updateInterfaceLanguage() {
            log(`–ù–∞—á–∏–Ω–∞–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –¥–ª—è —è–∑—ã–∫–∞: ${currentLanguage}`);

            // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
            const welcomeElement = document.querySelector('.welcome-text');
            if (welcomeElement) {
                log(`–ù–∞–π–¥–µ–Ω —ç–ª–µ–º–µ–Ω—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è: ${welcomeElement.textContent}`);
                const currentText = welcomeElement.textContent;
                const username = currentText.replace(/^(–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å|Welcome)\s+/, '');
                welcomeElement.textContent = t('welcome') + ' ' + username;
                log(`–û–±–Ω–æ–≤–ª–µ–Ω–æ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ: ${welcomeElement.textContent}`);
            } else {
                log('–û–®–ò–ë–ö–ê: –≠–ª–µ–º–µ–Ω—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω');
            }

            // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É –≤—ã—Ö–æ–¥–∞
            const logoutBtn = document.querySelector('.logout-btn');
            if (logoutBtn) {
                log(`–ù–∞–π–¥–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ –≤—ã—Ö–æ–¥–∞: ${logoutBtn.textContent}`);
                logoutBtn.textContent = t('logout');
                log(`–û–±–Ω–æ–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ –≤—ã—Ö–æ–¥–∞: ${logoutBtn.textContent}`);
            } else {
                log('–û–®–ò–ë–ö–ê: –ö–Ω–æ–ø–∫–∞ –≤—ã—Ö–æ–¥–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞');
            }

            // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
            const generateBtn = document.querySelector('.generate-btn');
            if (generateBtn) {
                log(`–ù–∞–π–¥–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏: ${generateBtn.textContent}`);
                generateBtn.textContent = t('generate') + ' ' + (currentLanguage === 'en' ? 'Character' : '–ø–µ—Ä—Å–æ–Ω–∞–∂–∞');
                log(`–û–±–Ω–æ–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏: ${generateBtn.textContent}`);
            } else {
                log('–û–®–ò–ë–ö–ê: –ö–Ω–æ–ø–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞');
            }

            // –û–±–Ω–æ–≤–ª—è–µ–º –ª–µ–π–±–ª—ã —Ñ–æ—Ä–º
            const labels = document.querySelectorAll('label');
            labels.forEach(label => {
                const forAttr = label.getAttribute('for');
                if (forAttr === 'race') {
                    label.textContent = t('race') + ':';
                    log(`–û–±–Ω–æ–≤–ª–µ–Ω –ª–µ–π–±–ª —Ä–∞—Å—ã: ${label.textContent}`);
                } else if (forAttr === 'class') {
                    label.textContent = t('class') + ':';
                    log(`–û–±–Ω–æ–≤–ª–µ–Ω –ª–µ–π–±–ª –∫–ª–∞—Å—Å–∞: ${label.textContent}`);
                } else if (forAttr === 'level') {
                    label.textContent = t('level') + ':';
                    log(`–û–±–Ω–æ–≤–ª–µ–Ω –ª–µ–π–±–ª —É—Ä–æ–≤–Ω—è: ${label.textContent}`);
                } else if (forAttr === 'gender') {
                    label.textContent = t('gender') + ':';
                    log(`–û–±–Ω–æ–≤–ª–µ–Ω –ª–µ–π–±–ª –ø–æ–ª–∞: ${label.textContent}`);
                }
            });

            log('–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–æ');
        }

        function changeLanguage() {
            const selector = document.getElementById('languageSelector');
            if (selector) {
                currentLanguage = selector.value;
                log(`–Ø–∑—ã–∫ –∏–∑–º–µ–Ω–µ–Ω –Ω–∞: ${currentLanguage}`);
                updateInterfaceLanguage();
            }
        }

        function testUpdate() {
            log('=== –¢–ï–°–¢ –û–ë–ù–û–í–õ–ï–ù–ò–Ø ===');
            updateInterfaceLanguage();
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', function() {
            log('DOM –∑–∞–≥—Ä—É–∂–µ–Ω, –Ω–∞—á–∏–Ω–∞–µ–º –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é');

            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —è–∑—ã–∫ –∏–∑ URL
            const urlParams = new URLSearchParams(window.location.search);
            const urlLang = urlParams.get('lang');
            if (urlLang) {
                currentLanguage = urlLang;
                log(`–Ø–∑—ã–∫ –∏–∑ URL: ${currentLanguage}`);
            }

            // –û–±–Ω–æ–≤–ª—è–µ–º —Å–µ–ª–µ–∫—Ç–æ—Ä —è–∑—ã–∫–∞
            updateLanguageSelector();

            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
            updateInterfaceLanguage();

            log('–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞');
        });
    </script>
</body>

</html>